// Translation data for multiple Indian languages
const translations = {
  en: {
    hero: {
      title: "Smart Crop Recommendation",
      subtitle: "Get AI-powered crop recommendations based on weather, soil conditions, and market trends",
      getStarted: "Get Started",
      voiceCommand: "Voice Command",
    },
    weather: {
      title: "Live Weather",
    },
    recommend: {
      title: "Get Crop Recommendations",
      subtitle: "Enter your farming conditions to get personalized crop suggestions",
    },
    form: {
      state: "State",
      season: "Season",
      rainfall: "Annual Rainfall (mm)",
      temperature: "Temperature (°C)",
      fertilizer: "Fertilizer (kg/ha)",
      pesticide: "Pesticide (kg/ha)",
      area: "Area (hectares)",
      submit: "Get Recommendations",
    },
    results: {
      title: "Recommended Crops",
    },
    market: {
      title: "Live Market Prices",
      subtitle: "Current crop prices and market trends",
    },
    footer: {
      text: "© 2025 Crop Recommendation System. Empowering farmers with AI technology.",
    },
    voice: {
      listening: "Listening...",
      command: "Voice Command",
    },
  },
  hi: {
    hero: {
      title: "स्मार्ट फसल सिफारिश",
      subtitle: "मौसम, मिट्टी की स्थिति और बाजार के रुझान के आधार पर एआई-संचालित फसल सिफारिशें प्राप्त करें",
      getStarted: "शुरू करें",
      voiceCommand: "आवाज कमांड",
    },
    weather: {
      title: "लाइव मौसम",
    },
    recommend: {
      title: "फसल सिफारिशें प्राप्त करें",
      subtitle: "व्यक्तिगत फसल सुझाव प्राप्त करने के लिए अपनी खेती की स्थिति दर्ज करें",
    },
    form: {
      state: "राज्य",
      season: "मौसम",
      rainfall: "वार्षिक वर्षा (मिमी)",
      temperature: "तापमान (°C)",
      fertilizer: "उर्वरक (किग्रा/हेक्टेयर)",
      pesticide: "कीटनाशक (किग्रा/हेक्टेयर)",
      area: "क्षेत्र (हेक्टेयर)",
      submit: "सिफारिशें प्राप्त करें",
    },
    results: {
      title: "अनुशंसित फसलें",
    },
    market: {
      title: "लाइव बाजार मूल्य",
      subtitle: "वर्तमान फसल की कीमतें और बाजार के रुझान",
    },
    footer: {
      text: "© 2025 फसल सिफारिश प्रणाली। एआई प्रौद्योगिकी के साथ किसानों को सशक्त बनाना।",
    },
    voice: {
      listening: "सुन रहा है...",
      command: "आवाज कमांड",
    },
  },
  te: {
    hero: {
      title: "స్మార్ట్ పంట సిఫార్సు",
      subtitle: "వాతావరణం, నేల పరిస్థితులు మరియు మార్కెట్ ట్రెండ్‌ల ఆధారంగా AI-శక్తితో కూడిన పంట సిఫార్సులను పొందండి",
      getStarted: "ప్రారంభించండి",
      voiceCommand: "వాయిస్ కమాండ్",
    },
    weather: {
      title: "లైవ్ వాతావరణం",
    },
    recommend: {
      title: "పంట సిఫార్సులను పొందండి",
      subtitle: "వ్యక్తిగత పంట సూచనలను పొందడానికి మీ వ్యవసాయ పరిస్థితులను నమోదు చేయండి",
    },
    form: {
      state: "రాష్ట్రం",
      season: "సీజన్",
      rainfall: "వార్షిక వర్షపాతం (మిమీ)",
      temperature: "ఉష్ణోగ్రత (°C)",
      fertilizer: "ఎరువులు (కిలోలు/హెక్టారు)",
      pesticide: "పురుగుమందు (కిలోలు/హెక్టారు)",
      area: "ప్రాంతం (హెక్టార్లు)",
      submit: "సిఫార్సులను పొందండి",
    },
    results: {
      title: "సిఫార్సు చేయబడిన పంటలు",
    },
    market: {
      title: "లైవ్ మార్కెట్ ధరలు",
      subtitle: "ప్రస్తుత పంట ధరలు మరియు మార్కెట్ ట్రెండ్‌లు",
    },
    footer: {
      text: "© 2025 పంట సిఫార్సు వ్యవస్థ. AI సాంకేతికతతో రైతులకు శక్తినిస్తోంది.",
    },
    voice: {
      listening: "వింటోంది...",
      command: "వాయిస్ కమాండ్",
    },
  },
  mr: {
    hero: {
      title: "स्मार्ट पीक शिफारस",
      subtitle: "हवामान, माती परिस्थिती आणि बाजार ट्रेंडवर आधारित AI-संचालित पीक शिफारसी मिळवा",
      getStarted: "सुरू करा",
      voiceCommand: "आवाज कमांड",
    },
    weather: {
      title: "लाइव्ह हवामान",
    },
    recommend: {
      title: "पीक शिफारसी मिळवा",
      subtitle: "वैयक्तिक पीक सूचना मिळविण्यासाठी तुमच्या शेतीच्या परिस्थिती प्रविष्ट करा",
    },
    form: {
      state: "राज्य",
      season: "हंगाम",
      rainfall: "वार्षिक पाऊस (मिमी)",
      temperature: "तापमान (°C)",
      fertilizer: "खत (किलो/हेक्टर)",
      pesticide: "कीटकनाशक (किलो/हेक्टर)",
      area: "क्षेत्र (हेक्टर)",
      submit: "शिफारसी मिळवा",
    },
    results: {
      title: "शिफारस केलेली पिके",
    },
    market: {
      title: "लाइव्ह बाजार किंमती",
      subtitle: "सध्याच्या पिकांच्या किंमती आणि बाजार ट्रेंड",
    },
    footer: {
      text: "© 2025 पीक शिफारस प्रणाली. AI तंत्रज्ञानासह शेतकऱ्यांना सशक्त करणे.",
    },
    voice: {
      listening: "ऐकत आहे...",
      command: "आवाज कमांड",
    },
  },
  pa: {
    hero: {
      title: "ਸਮਾਰਟ ਫਸਲ ਸਿਫਾਰਸ਼",
      subtitle: "ਮੌਸਮ, ਮਿੱਟੀ ਦੀਆਂ ਸਥਿਤੀਆਂ ਅਤੇ ਮਾਰਕੀਟ ਰੁਝਾਨਾਂ ਦੇ ਆਧਾਰ 'ਤੇ AI-ਸੰਚਾਲਿਤ ਫਸਲ ਸਿਫਾਰਸ਼ਾਂ ਪ੍ਰਾਪਤ ਕਰੋ",
      getStarted: "ਸ਼ੁਰੂ ਕਰੋ",
      voiceCommand: "ਆਵਾਜ਼ ਕਮਾਂਡ",
    },
    weather: {
      title: "ਲਾਈਵ ਮੌਸਮ",
    },
    recommend: {
      title: "ਫਸਲ ਸਿਫਾਰਸ਼ਾਂ ਪ੍ਰਾਪਤ ਕਰੋ",
      subtitle: "ਨਿੱਜੀ ਫਸਲ ਸੁਝਾਅ ਪ੍ਰਾਪਤ ਕਰਨ ਲਈ ਆਪਣੀ ਖੇਤੀ ਦੀਆਂ ਸਥਿਤੀਆਂ ਦਰਜ ਕਰੋ",
    },
    form: {
      state: "ਰਾਜ",
      season: "ਮੌਸਮ",
      rainfall: "ਸਾਲਾਨਾ ਬਾਰਿਸ਼ (ਮਿਮੀ)",
      temperature: "ਤਾਪਮਾਨ (°C)",
      fertilizer: "ਖਾਦ (ਕਿਲੋ/ਹੈਕਟੇਅਰ)",
      pesticide: "ਕੀਟਨਾਸ਼ਕ (ਕਿਲੋ/ਹੈਕਟੇਅਰ)",
      area: "ਖੇਤਰ (ਹੈਕਟੇਅਰ)",
      submit: "ਸਿਫਾਰਸ਼ਾਂ ਪ੍ਰਾਪਤ ਕਰੋ",
    },
    results: {
      title: "ਸਿਫਾਰਸ਼ ਕੀਤੀਆਂ ਫਸਲਾਂ",
    },
    market: {
      title: "ਲਾਈਵ ਮਾਰਕੀਟ ਕੀਮਤਾਂ",
      subtitle: "ਮੌਜੂਦਾ ਫਸਲਾਂ ਦੀਆਂ ਕੀਮਤਾਂ ਅਤੇ ਮਾਰਕੀਟ ਰੁਝਾਨ",
    },
    footer: {
      text: "© 2025 ਫਸਲ ਸਿਫਾਰਸ਼ ਪ੍ਰਣਾਲੀ। AI ਤਕਨਾਲੋਜੀ ਨਾਲ ਕਿਸਾਨਾਂ ਨੂੰ ਸ਼ਕਤੀਸ਼ਾਲੀ ਬਣਾਉਣਾ।",
    },
    voice: {
      listening: "ਸੁਣ ਰਿਹਾ ਹੈ...",
      command: "ਆਵਾਜ਼ ਕਮਾਂਡ",
    },
  },
  ta: {
    hero: {
      title: "ஸ்மார்ட் பயிர் பரிந்துரை",
      subtitle: "வானிலை, மண் நிலைமைகள் மற்றும் சந்தை போக்குகளின் அடிப்படையில் AI-இயங்கும் பயிர் பரிந்துரைகளைப் பெறுங்கள்",
      getStarted: "தொடங்குங்கள்",
      voiceCommand: "குரல் கட்டளை",
    },
    weather: {
      title: "நேரடி வானிலை",
    },
    recommend: {
      title: "பயிர் பரிந்துரைகளைப் பெறுங்கள்",
      subtitle: "தனிப்பயன் பயிர் பரிந்துரைகளைப் பெற உங்கள் விவசாய நிலைமைகளை உள்ளிடவும்",
    },
    form: {
      state: "மாநிலம்",
      season: "பருவம்",
      rainfall: "ஆண்டு மழைப்பொழிவு (மிமீ)",
      temperature: "வெப்பநிலை (°C)",
      fertilizer: "உரம் (கிலோ/ஹெக்டேர்)",
      pesticide: "பூச்சிக்கொல்லி (கிலோ/ஹெக்டேர்)",
      area: "பரப்பளவு (ஹெக்டேர்)",
      submit: "பரிந்துரைகளைப் பெறுங்கள்",
    },
    results: {
      title: "பரிந்துரைக்கப்பட்ட பயிர்கள்",
    },
    market: {
      title: "நேரடி சந்தை விலைகள்",
      subtitle: "தற்போதைய பயிர் விலைகள் மற்றும் சந்தை போக்குகள்",
    },
    footer: {
      text: "© 2025 பயிர் பரிந்துரை அமைப்பு. AI தொழில்நுட்பத்துடன் விவசாயிகளுக்கு அதிகாரம் அளித்தல்.",
    },
    voice: {
      listening: "கேட்கிறது...",
      command: "குரல் கட்டளை",
    },
  },
  kn: {
    hero: {
      title: "ಸ್ಮಾರ್ಟ್ ಬೆಳೆ ಶಿಫಾರಸು",
      subtitle: "ಹವಾಮಾನ, ಮಣ್ಣಿನ ಪರಿಸ್ಥಿತಿಗಳು ಮತ್ತು ಮಾರುಕಟ್ಟೆ ಪ್ರವೃತ್ತಿಗಳ ಆಧಾರದ ಮೇಲೆ AI-ಚಾಲಿತ ಬೆಳೆ ಶಿಫಾರಸುಗಳನ್ನು ಪಡೆಯಿರಿ",
      getStarted: "ಪ್ರಾರಂಭಿಸಿ",
      voiceCommand: "ಧ್ವನಿ ಆಜ್ಞೆ",
    },
    weather: {
      title: "ನೇರ ಹವಾಮಾನ",
    },
    recommend: {
      title: "ಬೆಳೆ ಶಿಫಾರಸುಗಳನ್ನು ಪಡೆಯಿರಿ",
      subtitle: "ವೈಯಕ್ತಿಕ ಬೆಳೆ ಸಲಹೆಗಳನ್ನು ಪಡೆಯಲು ನಿಮ್ಮ ಕೃಷಿ ಪರಿಸ್ಥಿತಿಗಳನ್ನು ನಮೂದಿಸಿ",
    },
    form: {
      state: "ರಾಜ್ಯ",
      season: "ಋತು",
      rainfall: "ವಾರ್ಷಿಕ ಮಳೆ (ಮಿಮೀ)",
      temperature: "ತಾಪಮಾನ (°C)",
      fertilizer: "ಗೊಬ್ಬರ (ಕೆಜಿ/ಹೆಕ್ಟೇರ್)",
      pesticide: "ಕೀಟನಾಶಕ (ಕೆಜಿ/ಹೆಕ್ಟೇರ್)",
      area: "ಪ್ರದೇಶ (ಹೆಕ್ಟೇರ್)",
      submit: "ಶಿಫಾರಸುಗಳನ್ನು ಪಡೆಯಿರಿ",
    },
    results: {
      title: "ಶಿಫಾರಸು ಮಾಡಿದ ಬೆಳೆಗಳು",
    },
    market: {
      title: "ನೇರ ಮಾರುಕಟ್ಟೆ ಬೆಲೆಗಳು",
      subtitle: "ಪ್ರಸ್ತುತ ಬೆಳೆ ಬೆಲೆಗಳು ಮತ್ತು ಮಾರುಕಟ್ಟೆ ಪ್ರವೃತ್ತಿಗಳು",
    },
    footer: {
      text: "© 2025 ಬೆಳೆ ಶಿಫಾರಸು ವ್ಯವಸ್ಥೆ. AI ತಂತ್ರಜ್ಞಾನದೊಂದಿಗೆ ರೈತರಿಗೆ ಅಧಿಕಾರ ನೀಡುವುದು.",
    },
    voice: {
      listening: "ಕೇಳುತ್ತಿದೆ...",
      command: "ಧ್ವನಿ ಆಜ್ಞೆ",
    },
  },
}

// Current language
let currentLanguage = "en"

// Apply translations to the page
function applyTranslations(lang) {
  if (!translations[lang]) {
    console.error(`[v0] Language ${lang} not found`)
    return
  }

  currentLanguage = lang

  console.log("[v0] Applying translations for:", lang)

  // Get all elements with data-translate attribute
  const elements = document.querySelectorAll("[data-translate]")

  console.log("[v0] Found elements to translate:", elements.length)

  elements.forEach((element) => {
    const key = element.getAttribute("data-translate")
    const keys = key.split(".")

    // Navigate through the translation object
    let translation = translations[lang]
    for (const k of keys) {
      if (translation[k]) {
        translation = translation[k]
      } else {
        console.warn(`[v0] Translation key not found: ${key}`)
        return
      }
    }

    // Update the element text
    element.textContent = translation
  })

  const placeholders = {
    en: {
      weatherCity: "Enter city name",
      rainfall: "e.g., 1200",
      temperature: "e.g., 25",
      fertilizer: "e.g., 100000",
      pesticide: "e.g., 5000",
      area: "e.g., 10000",
    },
    hi: {
      weatherCity: "शहर का नाम दर्ज करें",
      rainfall: "उदा. 1200",
      temperature: "उदा. 25",
      fertilizer: "उदा. 100000",
      pesticide: "उदा. 5000",
      area: "उदा. 10000",
    },
    te: {
      weatherCity: "నగరం పేరు నమోదు చేయండి",
      rainfall: "ఉదా. 1200",
      temperature: "ఉదా. 25",
      fertilizer: "ఉదా. 100000",
      pesticide: "ఉదా. 5000",
      area: "ఉదా. 10000",
    },
    mr: {
      weatherCity: "शहराचे नाव प्रविष्ट करा",
      rainfall: "उदा. 1200",
      temperature: "उदा. 25",
      fertilizer: "उदा. 100000",
      pesticide: "उदा. 5000",
      area: "उदा. 10000",
    },
    pa: {
      weatherCity: "ਸ਼ਹਿਰ ਦਾ ਨਾਮ ਦਰਜ ਕਰੋ",
      rainfall: "ਉਦਾ. 1200",
      temperature: "ਉਦਾ. 25",
      fertilizer: "ਉਦਾ. 100000",
      pesticide: "ਉਦਾ. 5000",
      area: "ਉਦਾ. 10000",
    },
    ta: {
      weatherCity: "நகரத்தின் பெயரை உள்ளிடவும்",
      rainfall: "உதா. 1200",
      temperature: "உதா. 25",
      fertilizer: "உதா. 100000",
      pesticide: "உதா. 5000",
      area: "உதா. 10000",
    },
    kn: {
      weatherCity: "ನಗರದ ಹೆಸರನ್ನು ನಮೂದಿಸಿ",
      rainfall: "ಉದಾ. 1200",
      temperature: "ಉದಾ. 25",
      fertilizer: "ಉದಾ. 100000",
      pesticide: "ಉದಾ. 5000",
      area: "ಉದಾ. 10000",
    },
  }

  const langPlaceholders = placeholders[lang] || placeholders.en

  document.getElementById("weatherCity")?.setAttribute("placeholder", langPlaceholders.weatherCity)
  document.getElementById("rainfall")?.setAttribute("placeholder", langPlaceholders.rainfall)
  document.getElementById("temperature")?.setAttribute("placeholder", langPlaceholders.temperature)
  document.getElementById("fertilizer")?.setAttribute("placeholder", langPlaceholders.fertilizer)
  document.getElementById("pesticide")?.setAttribute("placeholder", langPlaceholders.pesticide)
  document.getElementById("area")?.setAttribute("placeholder", langPlaceholders.area)

  // Update language dropdown
  const languageNames = {
    en: "English",
    hi: "हिंदी (Hindi)",
    te: "తెలుగు (Telugu)",
    mr: "मराठी (Marathi)",
    pa: "ਪੰਜਾਬੀ (Punjabi)",
    ta: "தமிழ் (Tamil)",
    kn: "ಕನ್ನಡ (Kannada)",
  }

  const currentLangElement = document.getElementById("currentLanguage")
  if (currentLangElement) {
    currentLangElement.textContent = languageNames[lang]
  }

  // Save language preference
  localStorage.setItem("preferredLanguage", lang)

  console.log(`[v0] Language changed to ${lang}`)
}

// Change language
function changeLanguage(lang) {
  applyTranslations(lang)

  // Update voice recognition language if available
  if (window.recognition) {
    window.recognition.lang = getLanguageCode(lang)
  }
}

// Get language code for speech recognition
function getLanguageCode(lang) {
  const languageCodes = {
    en: "en-IN",
    hi: "hi-IN",
    te: "te-IN",
    mr: "mr-IN",
    pa: "pa-IN",
    ta: "ta-IN",
    kn: "kn-IN",
  }
  return languageCodes[lang] || "en-IN"
}

// Initialize language on page load
document.addEventListener("DOMContentLoaded", () => {
  console.log("[v0] Initializing translations...")

  // Check for saved language preference
  const savedLanguage = localStorage.getItem("preferredLanguage")

  if (savedLanguage && translations[savedLanguage]) {
    console.log("[v0] Loading saved language:", savedLanguage)
    applyTranslations(savedLanguage)
  }

  // Setup language menu listeners
  document.querySelectorAll("#languageMenu .dropdown-item").forEach((item) => {
    item.addEventListener("click", function (e) {
      e.preventDefault()
      const lang = this.getAttribute("data-lang")
      changeLanguage(lang)
    })
  })
})

window.applyTranslations = applyTranslations
window.changeLanguage = changeLanguage
window.translations = translations
